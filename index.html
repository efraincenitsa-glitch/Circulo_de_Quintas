<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport"
  content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">

<title>CÃ­rculo de Quintas</title>

<!-- ICONO iOS -->
<link rel="apple-touch-icon" sizes="1024x1024" href="icon-1024.png">

<!-- MODO APP -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="CÃ­rculo de Quintas">

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont;
  background: radial-gradient(circle at top, #111, #000);
  color:white;
  text-align:center;
}

h1{margin:20px 0;}

button{
  background:#00f7ff;
  border:none;
  color:#000;
  padding:8px 14px;
  border-radius:20px;
  margin:5px;
  font-weight:bold;
}

#circulo{
  position:relative;
  width:260px;
  height:260px;
  margin:20px auto;
  border-radius:50%;
  background:#111;
}

.nota{
  position:absolute;
  width:50px;
  height:50px;
  border-radius:50%;
  background:#00d9ff;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#000;
  font-weight:bold;
  cursor:pointer;
}

.nota.activa{
  background:#00ffff;
  box-shadow:0 0 20px #00ffff;
}

#teclado{
  display:flex;
  justify-content:center;
  margin:20px 0;
}

.tecla{
  width:30px;
  height:120px;
  background:#00f7ff;
  margin:2px;
  border-radius:4px;
}
</style>
</head>

<body>

<h1>ðŸŽµ CÃ­rculo de Quintas</h1>

<button onclick="modo='Mayor';actualizar()">Mayor</button>
<button onclick="modo='Menor';actualizar()">Menor</button>

<div id="circulo"></div>
<div id="info"></div>
<div id="teclado"></div>

<script>
const notas=["Do","Sol","Re","La","Mi","Si","Fa#","Do#","Sol#","Re#","La#","Fa"];
const escalas={
  Mayor:["Do","Re","Mi","Fa","Sol","La","Si"],
  Menor:["Do","Re","Mib","Fa","Sol","Lab","Sib"]
};

let notaActual="Do",modo="Mayor";
const circulo=document.getElementById("circulo");

notas.forEach((n,i)=>{
  const a=i/notas.length*Math.PI*2;
  const x=105+Math.cos(a-Math.PI/2)*100;
  const y=105+Math.sin(a-Math.PI/2)*100;
  const d=document.createElement("div");
  d.className="nota";
  d.style.left=x+"px";
  d.style.top=y+"px";
  d.innerText=n;
  d.onclick=()=>{notaActual=n;actualizar();}
  circulo.appendChild(d);
});

function actualizar(){
  document.querySelectorAll(".nota").forEach(n=>{
    n.classList.toggle("activa",n.innerText===notaActual);
  });

  info.innerHTML=`<b>${notaActual} ${modo}</b><br>
  Escala: ${escalas[modo].join(" â€“ ")}`;

  teclado.innerHTML="";
  escalas[modo].forEach(()=>teclado.innerHTML+=`<div class="tecla"></div>`);
}

actualizar();
</script>

</body>
</html>
